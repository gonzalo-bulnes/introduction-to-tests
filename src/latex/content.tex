% -*- Mode: LaTeX; coding: utf-8; indent-tabs-mode: nil; tab-width: 2 -*-

%% This code is part of the Introduction to Tests talk.
% See https://github.com/gonzalo-bulnes/introduction-to-tests for the last version.
%
% You should'nt compile this file directly, as it will be included by
% the other .tex files.
%%

\begin{frame}[t,plain]
  \maketitle
\end{frame}

\begin{frame}
  %\tableofcontents
  \emph{A menos que yo esté equivocado}, al final de esta charla, usted debería poder decir:\\~\\
  \hspace{.9em}\ding{125}\vspace{-1.4em}
  \begin{quote}
    Como parte de la audiencia de la charla, para cada hipótesis que me proponga, sé escribir un test.
    \hspace{.5em}\ding{126}
  \end{quote}
\end{frame}

% Licencias de software libre
\section{Definición}

  \begin{frame}
    \tableofcontents[currentsection]
  \end{frame}

%
\subsection{Objetivo y finalidad de los tests}

  \begin{frame}{\insertsubsection}
    \begin{alertblock}{Objetivo}
      Todo test tiene por objetivo \alert{validar} una \emph{hipótesis}, es decir transformar una hipótesis (algo incierto) en un \emph{conocimiento} (algo cierto).
    \end{alertblock}
    \begin{block}{Finalidad}
      %El conocimiento de los hechos permite tomar decisiones.\\
      Obtener hipótesis válidas permite \alert{tomar decisiones correctas}, ésta es la \emph{finalidad} del testing.
    \end{block}
  \end{frame}

\subsection{Lista de términos y definiciones}

  \begin{frame}{\insertsubsection}
    \begin{description}
      \item[Hipótesis] Afirmación que se supone cierta
      \item[Protocolo] Descripción paso a paso de un \emph{proceso}
      \item[Proceso] Resultado de la ejecución de un \emph{protocolo}\\
           (es decir que más o menos cualquier cosa que se puede \emph{describir paso a paso} es un proceso)
    \end{description}
  \end{frame}

\subsection{Forma general de un test}

  \begin{frame}{\insertsubsection}
    \begin{alertblock}{Descripción general}
      Visto de lejos, en todo test se pueden distinguir:
      \begin{enumerate}
        \item un \emph{proceso} (que no tiene nada particular)
        \item un \emph{resultado} que es \alert{binario}, es decir que solo tiene dos valores posibles: el test \alert{falla}, o el test \alert{tiene éxito}. (No existe otra posibilidad, sino el proceso no es un test.)
      \end{enumerate}
    \end{alertblock}
  \end{frame}

% Structure and meaning
\section{Estructura y alcance}

  \begin{frame}
    \tableofcontents[currentsection]
  \end{frame}

%
\subsection{Ejemplo de test}

  \begin{frame}{\insertsubsection}
    %
    \vspace{-2.8em}
    \begin{description}
      \item[Hipótesis] El café está caliente.
    \end{description}
    \vspace{+0.7em}
    %
    \begin{description}
      \item<2->[\alert{Dado}] un café
      \item<3->[\alert{Cuando}] toco el tazón con la mano
      \item<4->[\alert{Entonces}] me quemo la mano
    \end{description}
  \end{frame}

%
\subsection{Estructura}

  \begin{frame}{\insertsubsection}
    %
    \vspace{-2.8em}
    \begin{description}
      \item[Hipótesis] sin la cual no hay test, ni conocimiento nuevo.
    \end{description}
    \vspace{+0.7em}
    %
    \begin{description}
      \item<2->[Dado] un juego de \alert{condiciones iniciales}
      \item<3->[Cuando] se ejecuta el \alert{protocolo}
      \item<4->[Entonces] se cumplen las \alert{expectativas}
    \end{description}
  \end{frame}

%
\subsection{Alcance}

  \begin{frame}[label=expectativa]{\insertsubsection~(partiendo del final)}

    \begin{block}{Entonces\dots \alert{expectativa}}
      % es el elemento que tiene más relación con la hipótesis
      Describe qué es lo que espero que pase si la hipótesis es correcta,
      pueden haber varias expectativas para un mismo protocolo.
    \end{block}
    \begin{block}{}
      \begin{itemize}
        \item Depende estrechamente de la manera en que está escrita la hipótesis (a través del \emph{criterio de éxito del test} y del \emph{criterio de validación de la hipótesis})
        \hyperlink{criterios}{\beamergotobutton{Definición de ambos criterios}}
        %
        \item Debe asegurar un resultado sin ambigüedad, \alert{binario} (es esencial para poder \alert{\emph{actuar}}, tomar una decisión a partir del resultado del test)
      \end{itemize}
    \end{block}
  \end{frame}

  \begin{frame}{\insertsubsection}
    \begin{block}{Cuando\dots}
      Describe el \alert{\emph{protocolo}} a seguir para ejecutar el test.
    \end{block}
    \begin{block}{}
      \begin{itemize}
        \item Es generalmente una succesión de varios pasos ordenados
        \item Se pueden escribir: \alert{cuando} toco el tazón con la mano \alert{y}~\dots\\
        (también se puede usar para reemplazar \emph{dado} y \emph{entonces})
      \end{itemize}
    \end{block}
  \end{frame}

  \begin{frame}{\insertsubsection}
    \begin{block}{Dado\dots \alert{condiciones iniciales}}
      Describen el \emph{contexto} necesario para ejecutar el protocolo.
    \end{block}
    \begin{block}{}
      \begin{itemize}
        \item Se construyen a partir del protocolo
        \item Aseguran la \alert{reproductibilidad} del test
      \end{itemize}
    \end{block}
  \end{frame}

% % Why write tests?
% \section{¿Para qué escribir tests?}

% %
% \subsection{Comunicar}

%   \begin{frame}{\insertsubsection}
%     \begin{block}{De forma eficaz (incluso en equipos multidisciplinarios)}
%       \begin{itemize}
%         \item Escribir un test obliga a hacer \alert{explícitas} las expectativas,\\
%         los \emph{criterios de aceptación}, evita malentendidos
%         \item El test se escribe en conjunto, fuera de las áreas especializadas, define un \alert{lenguaje común a todo el equipo}
%       \end{itemize}
%     \end{block}
%     %
%     \vfill\vfill
%     \begin{columns}
%       \column{.2\textwidth}
%       \column{.8\textwidth}
%         \begin{quote}
%           \hfill\ding{125}\hspace{.3em}\small \href{http://www.python.org/dev/peps/pep-0020}{Explicit is better than implicit.}\normalsize\hspace{.5em}\ding{126}\\
%           \hfill \small --- Tim Peters \cite{peters2004zenofpython}\normalsize
%         \end{quote}
%     \end{columns}
%   \end{frame}

%   \begin{frame}{\insertsubsection~(2)}
%     \begin{block}{Con orientación a resultados}
%       \begin{itemize}
%         \item Cada test require una hipótesis, eso garantiza que el trabajo genera \emph{conocimiento}, \emph{validated learning} \cite{ries2011lean}
%       \end{itemize}
%     \end{block}
%     \begin{block}{\dots~incluso fuera del equipo}
%       \begin{itemize}
%         \item Un conjunto de tests facilita a personas exteriores al equipo \emph{visualizar} su dinámica interna
%       \end{itemize}
%     \end{block}
%   \end{frame}

% %
% \subsection{Fiabilizar, extender\dots}

%   \begin{frame}{\insertsubsection}
%     \begin{block}{Con tests \alert{automatizados}}
%       \begin{description}
%         \item[Extender] con tests de \emph{aceptación}
%         \item[Fiabilizar] con tests de \emph{regresión}
%         \item[Explorar] siguiendo principios de \emph{behaviour-driven development}
%       \end{description}
%     \end{block}
%   \end{frame}

\appendix

% Un poco de lectura
\section{Un poco de lectura}

%
\subsection{Referencias}

  \begin{frame}{\insertsubsection}
    \bibliography{../bibtex/biblio}{}
    \bibliographystyle{plain}
    % Learn Python!
    %\nocite{pilgrim2004dive}
    %\nocite{pink2011drive}
  \end{frame}

%
\subsection{Este documento es libre}

  % Sources of images from other authors:
  % (Propriety of their authors!)
  % http://www.acid.cl (logo created by Francisco Vásquez <fvasquez@kolorsheep.com>)

  \begin{frame}{\insertsubsection}

    \footnotesize
      \begin{columns}
        \column{.6\textwidth}
          Este \href{https://github.com/gonzalo-bulnes/introduction-to-tests}{documento}, sus \href{hhttps://github.com/gonzalo-bulnes/introduction-to-tests}{fuentes}, y el \href{https://github.com/gonzalo-bulnes/santiago-beamer-theme}{tema para Beamer llamado Santiago} están disponibles en:\\~\\
          \url{https://github.com/gonzalo-bulnes}
        \column{.3\textwidth}
        \hfill\includegraphics[width=\textwidth]{../../src/images/sources-talk.png}
      \end{columns}
    \normalsize

    \scriptsize{Menos mención contraria:}\\
    \noindent\scriptsize{Copyright~\copyright~2013~Gonzalo~Bulnes~Guilpain}\\
    \noindent\scriptsize{Copyright~\copyright~2013~Acid~Ltda}

    \scriptsize{Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.3
    or any later version published by the Free Software Foundation;
    with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
    A copy of the license can be found at \url{http://www.gnu.org/copyleft/fdl.html}.}
  \end{frame}

%
\subsection{Agradecimientos}

  \begin{frame}
    \vspace{0mm}
    \begin{center}
      Gracias por su atención.
    \end{center}
  \end{frame}


% Appendix
\section{Anexos}

%
\subsection{Criterios de éxito, validación}

\begin{frame}[label=criterios]
  \begin{block}{Criterio de éxito del test}
    Es siempre el mismo: si \alert{todas} las expectativas se cumplen, el test \emph{tuvo éxito}, sino, el test \emph{falló}.
  \end{block}
  \begin{block}{Criterio de validación de la hipótesis}
    También es siempre el mismo: si el test tuvo éxito, la hipótesis está validada, de lo contrario está invalidada.
  \end{block}
  \hfill \hyperlink{expectativa}{\beamergotobutton{Volver a la estructura de los tests}}
\end{frame}
% EOF